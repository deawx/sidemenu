<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>SideMenu.js by osobrevilla</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" type="text/css" href="css/site.css" media="screen" charset="utf-8" />
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/SideMenu.js"></script>
    <script type="text/javascript">
    $(function () {


        /* Items with custom actions */
        var shareListItem = new SMSubMenuItem("Share", [
            new SMButtonItem("Facebook", function () {
                window.open('http://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(location));
            }, "fb"),
            new SMButtonItem("Twitter", function () {
                window.open('https://twitter.com/intent/tweet?text=SideMenu.js&url=' + encodeURIComponent(location));
            }, "tw"),
            new SMButtonItem("Google+", function () {
                window.open('https://plus.google.com/share?hl=es-419&url=' + encodeURIComponent(location));
            }, "gp"),
            new SMButtonItem("Pinterest", function () {
                alert("Pinterest Share");
            }, "pin")
        ]);


        /* Mix Items */
        var editionsListItem = new SMSubMenuItem("Animals", [
            new SMLinkItem("Tiger", "https://www.google.com.pe/?#q=Tiger"),
            new SMLinkItem("Dog", "https://www.google.com.pe/?#q=Dog"),
            new SMLinkItem("Cat", "https://www.google.com.pe/?#q=Cat", "_blank"),
            new SMSubMenuItem("Birds", [
                new SMLinkItem("Eagle", "https://www.google.com.pe/?#q=eagle"),
                new SMLabelItem("Hawk"),
                new SMLabelItem("Tucan"),
                new SMButtonItem("Parrot", function () {
                    alert("Hello World!")
                }),
                new SMLabelItem("Chicken"),
                new SMLabelItem("Duck")
            ]),
            new SMLabelItem("Pig"),
            new SMLinkItem("Crocodile", "https://www.google.com.pe/?#q=Crocodile")
        ]);


        /* Simple Label Items */
        var worldListItem = new SMSubMenuItem("Continents", [
            new SMLabelItem("Europe"),
            new SMLabelItem("Asia"),
            new SMLabelItem("Africa"),
            new SMSubMenuItem("North America", [
                new SMLabelItem("Canada"),
                new SMLabelItem("Mexico"),
                new SMLabelItem("United States")
            ]),
            new SMLabelItem("Center America"),
            new SMSubMenuItem("South America", [
                new SMLabelItem("Argentina"),
                new SMLabelItem("Bolivia"),
                new SMLabelItem("Brasil"),
                new SMLabelItem("Colombia"),
                new SMLabelItem("Chile"),
                new SMLabelItem("Ecuador"),
                new SMLabelItem("Paraguay"),
                new SMSubMenuItem("Perú", [
                    new SMLabelItem("Lima"),
                    new SMLabelItem("Trujillo"),
                    new SMLabelItem("Loreto"),
                    new SMLabelItem("Cuzco"),
                    new SMLabelItem("Puno"),
                    new SMLabelItem("Cajamarca"),
                    new SMLabelItem("etc..")
                ]),
                new SMLabelItem("Uruguay")
            ]),
            new SMLabelItem("Oceanía"),
            new SMLabelItem("Antartida")
        ]);


        // Creating the master menu (SideMainMenu)
        sideMainMenu = new SideMainMenu([
            editionsListItem,
            worldListItem,
            shareListItem
        ]);


        // Adding MainMenu to DOM Tree
        sideMainMenu.appendTo('#menu');


        // Adding new item
        sideMainMenu.addItem(
            new SMButtonItem("Download File", function(){
              alert("Go Download File!");
            })
        );

        // Adding new item
        sideMainMenu.addItem(
            new SMButtonItem("Close", function () {
                sideMainMenu.close();
            })
        );

        // CUSTOM ITEM
        // This is a custom item example
        // all created custom items extend from SMItem Class.

        var SMUserAccountItem = (function (name, src) {
          SMItem.call(this); // Call SMItem constructor
          // this._el is jQuery item object that works how wrapper
          this._el.addClass('sm-item-useraccount');
          this._el.append(
            this.photo = $('<img/>')
              .addClass('sm-useraccount-photo')
              .attr({ src: src })
          );
          this._el.append(
            this.name = $('<div/>')
              .addClass('sm-useraccount-name')
              .text(name)
          );
        });

        // Extend prototype from SMItem
        SMUserAccountItem.prototype = Object.create(SMItem.prototype); 
        SMUserAccountItem.prototype.constructor = SMUserAccountItem;

        // Adding new type item
        sideMainMenu.addItem(new SMUserAccountItem(
          "Ana Cueva",
          "https://dl.dropboxusercontent.com/u/30078937/sidemenu-foto.jpg"
        ), 0 /* index, first element */ );



        /*-------------- ----------------------------------
         --------------- DEMO CODE (IGNORE) ---------------*/

        var isTouch = "ontouchstart" in document.documentElement,
            evt = isTouch ? 'touchend' : 'click';
            var next = function(){
              $(this).attr("disabled", "disabled").parent().next('li').find('button').removeAttr("disabled");
            };
        
        $("#open-demo").one(evt, function () {
          sideMainMenu.open();
          next.call(this);
        });

        $("#close-demo").one(evt, function () {
          sideMainMenu.close();
          if (confirm("Test again?")) {
              location.reload();
           } else {
            $(this).text("Test again!");
            $("#close-demo").on(evt, function(){
              location.reload();
            })
           }
        });
        
        $("#add-item-1").one(evt, function () {
            sideMainMenu.addItem(new SMSubMenuItem("Others"));
            next.call(this);
        });

        $("#add-item-2").one(evt, function () {
           sideMainMenu.getSubMenuByName("others")
            .open()
            .addItem(
              new SMLinkItem("Go to google", "http://google.com", "_blank")
             );
            next.call(this);
        });

        $("#close-item-1").one(evt, function () {
           sideMainMenu.getSubMenuByName("others").close();
           next.call(this);
        });

        $("#move-item-1").one(evt, function () {
           sideMainMenu.getItemByName("Animals").moveToPosition(sideMainMenu, sideMainMenu.items.length);
           next.call(this);
        });


        $("#move-item-2").one(evt, function () {
          var share = sideMainMenu.getSubMenuByName("Share").open();
           sideMainMenu.getItemByName("Animals").moveToMenu(share);
           next.call(this);
        });

        $("#return-item-1").one(evt, function () {
           var share = sideMainMenu.getSubMenuByName("Share")
           share.getItemByName("Animals").moveToMenu(sideMainMenu, 0);
           share.close();
           next.call(this);
        });

        $("#remove-item-1").one(evt, function () {
           sideMainMenu.getItemByName("Others").remove();
           next.call(this);
        });
    });
    
    </script>
  </head>
  <body>
    <div class="wrapper">
      <div class="content">
        <header>
            <h1>SideMenu.js (beta)</h1>
            <p>JavaScript library to create side menus with full object oriented way.</p>
            <p>This project is maintained by <a href="https://github.com/osobrevilla">osobrevilla</a></p>
        </header>
        <section>
          <h1>Downloads</h1>
          <ul>
            <li class="download"><a class="buttons" href="https://github.com/osobrevilla/sidemenu.js/zipball/master">Download ZIP</a></li>
            <li class="download"><a class="buttons" href="https://github.com/osobrevilla/sidemenu.js/tarball/master">Download TAR</a></li>
            <li><a class="buttons github" href="https://github.com/osobrevilla/sidemenu.js">View On GitHub</a></li>
          </ul>
        </section>
          
        <section>
          <h1>Demo</h1>
          <ol>
            <li><button id="open-demo">Open demo</button></li>
            <li><button id="add-item-1" disabled>Add SubMenu Item</button></li>
            <li><button id="add-item-2" disabled>Add LinkItem to "Others"</button></li>
            <li><button id="close-item-1" disabled>Close Menu "Others"</button></li>
            <li><button id="move-item-1" disabled>Move Item "Animals" to last position</button></li>
            <li><button id="move-item-2" disabled>Move "Animals" to "Share" SubMenu</button></li>
            <li><button id="return-item-1" disabled>Return "Animals" to main menu in first position</button></li>
            <li><button id="remove-item-1" disabled>Remove "Others"</button></li>
            <li><button id="close-demo" disabled>Close demo</button></li>
          </ol>
          
        </section>
      </div>
    </div>
    <!-- target with class (sm-main) -->
    <div id="menu" class="sm-main"></div>
    <!--/ end target-->

  </body>
</html>